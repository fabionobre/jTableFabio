<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head> 
		<title>jTable - exemplo grid completa</title> 
		
<meta charset="UTF-8">

		<script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
		<script src="../jTable.js"></script>
		<link rel="stylesheet" href="tabela.css" /> 
	</head> 

	<body> 
	
 		<div id="grid"></div>

		<script>

			var selecionados = new Array();

			function funcao_de_teste(titulo) {
				alert(titulo);
				console.log($("#grid").getParametros());
			}

			function adicionar() {
				selecionados = $("#grid").getSelected();	
				var selecionadosTxt = "";

				for (key in selecionados) {
					selecionadosTxt += selecionados[key].titulo + "\n";
				}
				alert("Você escolheu os produtos \n\n" + selecionadosTxt);		
			}		

			data = new Array();

			for (i=0; i< 5; i++) {
				data.push({"titulo":"Titulo " + i, "id": i,"codigo": "COD" + i, "preco":"119.9", "quantidade_disponivel":"ilimitado"," url":"http://simples.lvh.me:3000/produto/soul-masculino-100ml"});	
			}
		
			$(document).ready(function() {
			
				$("#grid").jTable({
					dados: data,
					mensagemEmpty: 'Nenhuma produto cadastrado ainda. Cadastre um agora mesmo !',
					cabecalho: [
						{'titulo': 'Cod.', 'width': 'auto', 'align': 'left', 'campo': 'codigo' },        
						{'titulo': 'Titulo', 'width': 'auto', 'align': 'left', 'campo': 'titulo', 'link_url': 'url' },
						{'titulo': 'Valor', 'width': 'auto', 'align': 'center', 'campo': 'preco', 'tipo': 'monetario' },
						{'titulo': 'Quantidade', 'width': 'auto', 'align': 'left', 'campo': 'quantidade_disponivel' }
					],
					actions: [
						{'titulo': 'adicionar', 'width': 'auto', 'icon' : 'imagens/icon_edit.png', 'funcao': 'adicionar', 'alt':'adicionar' },        
						{'titulo': 'remover', 'width': 'auto', 'icon' : 'imagens/icon_trash.png', 'funcao': 'remover', 'alt':'remover' }
					],					
					opcoesTitulo: 'Opções',
					opcoesWidth: '120px', 
					campoRef: 'id',
					campoTituloRef: 'id',
					checkbox: true,
					actionBar: true,
					opcoes: [{'icon' : 'imagens/icon_edit.png', 'link':'','funcao': '', 'alt':'editar', 'params': ['id']}, 
					  {'icon' : 'imagens/icon_trash.png', 'funcao':'funcao_de_teste', 'alt':'suspender', 'ajax': 'true', 'params': ['titulo']}]
				});		
			});

		</script>

	</body> 
</html>

